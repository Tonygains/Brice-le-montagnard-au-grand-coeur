<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Brice-O-Meter 3000 | √âvaluation Scientifique des 30 Ans</title>
    <style>
/* ===== VARIABLES ET RESET ===== */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

:root {
    --primary-color: #6366f1;
    --secondary-color: #ec4899;
    --success-color: #10b981;
    --warning-color: #f59e0b;
    --bg-gradient-start: #1e1b4b;
    --bg-gradient-end: #312e81;
    --text-light: #f3f4f6;
    --text-dark: #1f2937;
    --card-bg: rgba(255, 255, 255, 0.98);
    --shadow-lg: 0 20px 60px rgba(0, 0, 0, 0.3);
    --transition-speed: 0.3s;
}

body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    min-height: 100vh;
    background: linear-gradient(135deg, var(--bg-gradient-start), var(--bg-gradient-end));
    color: var(--text-dark);
    overflow-x: hidden;
    position: relative;
}

/* ===== ANIMATION DE FOND ===== */
.background-animation {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, #1e1b4b, #312e81, #6366f1);
    background-size: 400% 400%;
    animation: gradientShift 15s ease infinite;
    z-index: -1;
}

@keyframes gradientShift {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

/* ===== √âCRANS ===== */
.screen {
    display: none;
    min-height: 100vh;
    padding: 20px;
    align-items: center;
    justify-content: center;
    animation: fadeIn 0.5s ease;
}

.screen.active {
    display: flex;
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* ===== CARTE PRINCIPALE ===== */
.card {
    background: var(--card-bg);
    border-radius: 24px;
    padding: 40px;
    max-width: 700px;
    width: 100%;
    box-shadow: var(--shadow-lg);
    animation: slideIn 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

@keyframes slideIn {
    from {
        opacity: 0;
        transform: scale(0.8) translateY(40px);
    }
    to {
        opacity: 1;
        transform: scale(1) translateY(0);
    }
}

/* ===== √âCRAN D'ACCUEIL ===== */
.welcome-card {
    text-align: center;
}

.title-main {
    font-size: 2.5rem;
    background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    margin-bottom: 10px;
    animation: pulse 2s ease-in-out infinite;
}

@keyframes pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.05); }
}

.subtitle {
    font-size: 1.2rem;
    color: #6b7280;
    margin-bottom: 30px;
}

.warning-box {
    background: linear-gradient(135deg, #fef3c7, #fde68a);
    border-left: 4px solid var(--warning-color);
    padding: 20px;
    border-radius: 12px;
    margin: 30px 0;
    text-align: left;
}

.warning-box p {
    line-height: 1.6;
    color: #92400e;
}

.disclaimer {
    margin-top: 20px;
    font-size: 0.85rem;
    color: #9ca3af;
    font-style: italic;
}

/* ===== BOUTONS ===== */
.btn {
    padding: 16px 40px;
    font-size: 1.1rem;
    font-weight: 600;
    border: none;
    border-radius: 12px;
    cursor: pointer;
    transition: all var(--transition-speed) ease;
    text-transform: uppercase;
    letter-spacing: 1px;
    margin: 10px;
}

.btn-primary {
    background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
    color: white;
    box-shadow: 0 8px 20px rgba(99, 102, 241, 0.3);
}

.btn-primary:hover {
    transform: translateY(-3px);
    box-shadow: 0 12px 30px rgba(99, 102, 241, 0.5);
}

.btn-primary:active {
    transform: translateY(-1px);
}

.btn-secondary {
    background: white;
    color: var(--primary-color);
    border: 2px solid var(--primary-color);
}

.btn-secondary:hover {
    background: var(--primary-color);
    color: white;
    transform: translateY(-3px);
}

/* ===== BARRE DE PROGRESSION ===== */
.progress-container {
    margin-bottom: 30px;
    text-align: center;
}

.progress-bar {
    width: 100%;
    height: 8px;
    background: rgba(255, 255, 255, 0.2);
    border-radius: 10px;
    overflow: hidden;
    margin-bottom: 10px;
}

.progress-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
    border-radius: 10px;
    transition: width 0.5s ease;
    box-shadow: 0 0 10px rgba(99, 102, 241, 0.5);
}

.progress-text {
    color: var(--text-light);
    font-weight: 600;
    font-size: 0.9rem;
}

/* ===== QUIZ ===== */
.quiz-card {
    animation: slideInRight 0.5s ease;
}

@keyframes slideInRight {
    from {
        opacity: 0;
        transform: translateX(100px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

.question-text {
    font-size: 1.5rem;
    margin-bottom: 30px;
    line-height: 1.4;
    color: var(--text-dark);
}

.question-image {
    width: 100%;
    max-width: 500px;
    height: auto;
    border-radius: 12px;
    margin: 20px auto;
    display: block;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    animation: imageZoomIn 0.5s ease;
}

@keyframes imageZoomIn {
    from {
        opacity: 0;
        transform: scale(0.9);
    }
    to {
        opacity: 1;
        transform: scale(1);
    }
}

.answers-container {
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.answer-btn {
    width: 100%;
    padding: 20px;
    font-size: 1.1rem;
    text-align: left;
    background: white;
    border: 3px solid #e5e7eb;
    border-radius: 12px;
    cursor: pointer;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

.answer-btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(99, 102, 241, 0.1), transparent);
    transition: left 0.5s ease;
}

.answer-btn:hover {
    border-color: var(--primary-color);
    transform: translateX(10px);
    box-shadow: 0 4px 15px rgba(99, 102, 241, 0.2);
}

.answer-btn:hover::before {
    left: 100%;
}

/* Animation au clic */
.answer-btn.selected {
    background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
    color: white;
    border-color: var(--primary-color);
    transform: scale(1.05);
    box-shadow: 0 8px 25px rgba(99, 102, 241, 0.4);
}

.answer-btn.dimmed {
    opacity: 0.3;
    transform: scale(0.95);
    pointer-events: none;
}

/* ===== √âCRAN DE CHARGEMENT ===== */
.loading-card {
    text-align: center;
    min-height: 400px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
}

.spinner {
    width: 80px;
    height: 80px;
    border: 6px solid rgba(99, 102, 241, 0.1);
    border-top-color: var(--primary-color);
    border-radius: 50%;
    animation: spin 1s linear infinite;
    margin-bottom: 30px;
}

@keyframes spin {
    to { transform: rotate(360deg); }
}

.loading-text {
    font-size: 1.5rem;
    color: var(--primary-color);
    margin-bottom: 30px;
    animation: textPulse 1.5s ease-in-out infinite;
}

@keyframes textPulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
}

.loading-bar {
    width: 100%;
    max-width: 400px;
    height: 6px;
    background: #e5e7eb;
    border-radius: 10px;
    overflow: hidden;
}

.loading-bar-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
    border-radius: 10px;
    animation: loadingProgress 1.5s ease-in-out;
}

@keyframes loadingProgress {
    from { width: 0%; }
    to { width: 100%; }
}

/* ===== √âCRAN DE R√âSULTAT ===== */
.result-card {
    text-align: center;
    position: relative;
    z-index: 2;
}

.result-title {
    font-size: 2rem;
    background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    margin-bottom: 30px;
    animation: bounceIn 0.8s ease;
}

@keyframes bounceIn {
    0% { transform: scale(0); }
    50% { transform: scale(1.1); }
    100% { transform: scale(1); }
}

.score-display {
    margin: 30px 0;
}

.score-circle {
    display: inline-flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    width: 200px;
    height: 200px;
    border-radius: 50%;
    background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
    box-shadow: 0 10px 40px rgba(99, 102, 241, 0.4);
    animation: scoreReveal 1s ease;
}

@keyframes scoreReveal {
    0% {
        transform: rotate(0deg) scale(0);
    }
    50% {
        transform: rotate(180deg) scale(1.1);
    }
    100% {
        transform: rotate(360deg) scale(1);
    }
}

.score-value {
    font-size: 4rem;
    font-weight: bold;
    color: white;
}

.score-label {
    font-size: 1.5rem;
    color: rgba(255, 255, 255, 0.9);
}

.verdict-title {
    font-size: 1.8rem;
    color: var(--primary-color);
    margin: 20px 0;
}

.verdict-text {
    font-size: 1.2rem;
    line-height: 1.6;
    color: #6b7280;
    margin-bottom: 30px;
}

.birthday-message {
    background: linear-gradient(135deg, #fef3c7, #fde68a);
    padding: 30px;
    border-radius: 16px;
    margin: 30px 0;
    border-left: 5px solid var(--warning-color);
}

.birthday-message h3 {
    color: #92400e;
    margin-bottom: 15px;
    font-size: 1.5rem;
}

.birthday-message p {
    color: #92400e;
    line-height: 1.6;
}

/* ===== CONFETTIS ===== */
.confetti-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 1;
}

.confetti {
    position: absolute;
    width: 10px;
    height: 10px;
    background: var(--primary-color);
    animation: confettiFall 3s linear forwards;
}

@keyframes confettiFall {
    to {
        transform: translateY(100vh) rotate(720deg);
        opacity: 0;
    }
}

/* ===== RESPONSIVE ===== */
@media (max-width: 768px) {
    .card {
        padding: 25px;
        border-radius: 16px;
    }

    .title-main {
        font-size: 1.8rem;
    }

    .subtitle {
        font-size: 1rem;
    }

    .question-text {
        font-size: 1.2rem;
    }

    .answer-btn {
        padding: 16px;
        font-size: 1rem;
    }

    .answer-btn:hover {
        transform: translateX(5px);
    }

    .score-circle {
        width: 150px;
        height: 150px;
    }

    .score-value {
        font-size: 3rem;
    }

    .result-title {
        font-size: 1.5rem;
    }

    .verdict-title {
        font-size: 1.4rem;
    }

    .verdict-text {
        font-size: 1rem;
    }

    .btn {
        padding: 14px 30px;
        font-size: 1rem;
    }
}

@media (max-width: 480px) {
    .screen {
        padding: 15px;
    }

    .card {
        padding: 20px;
    }

    .title-main {
        font-size: 1.5rem;
    }

    .warning-box {
        padding: 15px;
    }
}
    </style>
</head>
<body>
    <div class="background-animation"></div>
    
    <!-- √âcran d'accueil -->
    <div id="welcome-screen" class="screen active">
        <div class="card welcome-card">
            <h1 class="title-main">üéÇ BRICE-O-METER 3000‚Ñ¢</h1>
            <p class="subtitle">√âvaluation Scientifique Officielle des 30 Ans</p>
            <div class="warning-box">
                <p>‚ö†Ô∏è Attention : Ce quiz ultra-pr√©cis va tester vos connaissances sur Brice, sa vie, ses aventures et ses exploits ! Es-tu pr√™t √† relever le d√©fi ?</p>
            </div>
            <button id="start-btn" class="btn btn-primary">
                Commencer l'Analyse
            </button>
            <p class="disclaimer">Certifi√© conforme par Margot, Claudia et tous les amis de Brice</p>
        </div>
    </div>

    <!-- √âcran de question -->
    <div id="quiz-screen" class="screen">
        <div class="progress-container">
            <div class="progress-bar">
                <div id="progress-fill" class="progress-fill"></div>
            </div>
            <p class="progress-text"><span id="current-question">1</span> / <span id="total-questions">11</span></p>
        </div>
        
        <div class="card quiz-card">
            <h2 id="question-text" class="question-text"></h2>
            <div id="answers-container" class="answers-container"></div>
        </div>
    </div>

    <!-- √âcran interm√©diaire (calcul) -->
    <div id="loading-screen" class="screen">
        <div class="card loading-card">
            <div class="spinner"></div>
            <h2 id="loading-text" class="loading-text">Analyse en cours...</h2>
            <div class="loading-bar">
                <div class="loading-bar-fill"></div>
            </div>
        </div>
    </div>

    <!-- √âcran de r√©sultat -->
    <div id="result-screen" class="screen">
        <div class="confetti-container" id="confetti-container"></div>
        <div class="card result-card">
            <h1 class="result-title">üéâ R√âSULTATS OFFICIELS üéâ</h1>
            <div class="score-display">
                <div class="score-circle">
                    <span id="score-value" class="score-value">0</span>
                    <span class="score-label">/ 11</span>
                </div>
            </div>
            <h2 id="verdict-title" class="verdict-title"></h2>
            <p id="verdict-text" class="verdict-text"></p>
            <div class="birthday-message">
                <h3>üéÇ Joyeux 30e Anniversaire Brice ! üéÇ</h3>
                <p>Que cette nouvelle d√©cennie soit remplie d'aventures √©piques, de sommets conquis et de moments inoubliables avec Margot et tous tes proches ! üéà</p>
            </div>
            <button id="restart-btn" class="btn btn-secondary">
                Refaire le Quiz
            </button>
        </div>
    </div>

    <script>
// ===== DONN√âES DU QUIZ =====
const quizData = [
    {
        question: "Combien de sommets Brice a-t-il r√©ussi √† faire dans son projet 30 x 3000 ?",
        answers: [
            { text: "8 sommets", points: 0, correct: false },
            { text: "9 sommets", points: 10, correct: true },
            { text: "10 sommets", points: 0, correct: false },
            { text: "12 sommets", points: 0, correct: false }
        ]
    },
    {
        question: "Lors de ces cinq derni√®res ann√©es, pour quelle blessure absurde Brice s'est-il lourdement plaint √† sa maman Claudia apr√®s une apr√®s-midi √† la Gouille ?",
        answers: [
            { text: "Une piq√ªre d'insecte sur un orteil", points: 10, correct: true },
            { text: "Une morsure de cigue", points: 0, correct: false },
            { text: "Un gros coup de soleil", points: 0, correct: false },
            { text: "Une morsure de poule", points: 0, correct: false }
        ]
    },
    {
        question: "Dans laquelle de ses lubies Brice n'a-t-il toujours pas r√©ussi √† convertir Margot ?",
        answers: [
            { text: "VTT", points: 10, correct: true },
            { text: "V√©lo", points: 0, correct: false },
            { text: "Peaux de phoques", points: 0, correct: false },
            { text: "Course", points: 0, correct: false }
        ]
    },
    {
        question: "Quelle est la marque pr√©f√©r√©e de Brice ?",
        answers: [
            { text: "Dynafit", points: 0, correct: false },
            { text: "Ortovox", points: 0, correct: false },
            { text: "Mammut", points: 10, correct: true },
            { text: "Atomic", points: 0, correct: false }
        ]
    },
    {
        question: "Qui Brice a-t-il r√©ussi √† ragoter dans un projet bancal de VTT √† Tenerife sous la pluie ?",
        answers: [
            { text: "Le voisin de l'avion", points: 10, correct: true },
            { text: "Un ami surfeur au camp", points: 0, correct: false },
            { text: "Le professeur de surf", points: 0, correct: false },
            { text: "Le vendeur de la sup√©rette", points: 0, correct: false }
        ]
    },
    {
        question: "Pour quelle raison Brice a-t-il √©t√© aper√ßu un soir de la foire du Valais avec cet √©norme cadre ?",
        image: "https://github.com/Tonygains/Brice-le-montagnard-au-grand-coeur/blob/main/images/cadre2.jpg?raw=true",
        answers: [
            { text: "Rempli d'ivresse, il a craqu√© pour ce beau paysage valaisan", points: 0, correct: false },
            { text: "Quelqu'un a tir√© le frein d'urgence et il s'est retrouv√© par hasard sur le quai ce soir-l√†", points: 10, correct: true },
            { text: "Il a r√©ussi √† subtiliser la d√©coration dans un bar de l'after avec ses talents d'homme de l'ombre", points: 0, correct: false },
            { text: "Il l'a rachet√© √† un passant qui souhaitait s'en d√©barrasser √† la d√©charge communale de Martigny", points: 0, correct: false }
        ]
    },
    {
        question: "Lequel de ses attraits physiques a fait craquer Margot ?",
        answers: [
            { text: "Les poils du torse", points: 0, correct: false },
            { text: "Les jambes muscl√©es", points: 0, correct: false },
            { text: "Sa personnalit√©", points: 0, correct: false },
            { text: "Son joli sourire", points: 0, correct: false },
            { text: "‚ú® Tous ces attraits !", points: 10, correct: true }
        ]
    },
    {
        question: "Quand Brice fait la cuisine pour Margot, quel est son ingr√©dient secret ?",
        answers: [
            { text: "Amour", points: 0, correct: false },
            { text: "Fromage fondu", points: 0, correct: false },
            { text: "Caf√© instantan√©", points: 0, correct: false },
            { text: "Piment fort", points: 0, correct: false },
            { text: "üç≥ Tous (√ßa d√©pend du plat et du jour)", points: 10, correct: true }
        ]
    },
    {
        question: "Combien d'essais a-t-il fallu √† Brice pour r√©ussir √† terminer le Grand Raid ?",
        answers: [
            { text: "1 essai", points: 0, correct: false },
            { text: "2 essais", points: 0, correct: false },
            { text: "3 essais - la pers√©v√©rance paie !", points: 10, correct: true },
            { text: "4 essais", points: 0, correct: false }
        ]
    },
    {
        question: "Quel sport Brice d√©teste au plus haut point ?",
        answers: [
            { text: "Le ski de fond", points: 10, correct: true },
            { text: "La moto", points: 0, correct: false },
            { text: "L'√©quitation", points: 0, correct: false },
            { text: "Le snowboard", points: 0, correct: false }
        ]
    },
    {
        question: "Quel projet Brice garde-t-il secr√®tement ?",
        answers: [
            { text: "La travers√©e du p√¥le Nord en tra√Æneau", points: 0, correct: false },
            { text: "La travers√©e du d√©troit de Gibraltar en barque", points: 0, correct: false },
            { text: "Rejoindre la Slovaquie √† Nice en parapente", points: 0, correct: false },
            { text: "Faire la plus grande distance de ski de fond jamais r√©alis√©e en 1 mois", points: 10, correct: true }
        ]
    }
];

// Messages de chargement humoristiques
const loadingMessages = [
    "üî¨ V√©rification des r√©ponses dans la base de donn√©es Brice...",
    "üìä Consultation des archives de la Gouille...",
    "üßÆ Calibration du Brice-O-Meter‚Ñ¢...",
    "üîç Analyse des exploits de Brice...",
    "‚ö° Comptage des bonnes r√©ponses...",
    "üéØ Calcul du score d'expertise Brice...",
    "üåü √âvaluation de vos connaissances...",
    "üîÆ Comparaison avec les autres participants...",
    "üì° Transmission des r√©sultats au jury...",
    "üèîÔ∏è V√©rification aupr√®s de Margot..."
];

// ===== VARIABLES GLOBALES =====
let currentQuestionIndex = 0;
let totalScore = 0;
let correctAnswers = 0;
let answers = [];

// ===== √âL√âMENTS DOM =====
const welcomeScreen = document.getElementById('welcome-screen');
const quizScreen = document.getElementById('quiz-screen');
const loadingScreen = document.getElementById('loading-screen');
const resultScreen = document.getElementById('result-screen');

const startBtn = document.getElementById('start-btn');
const restartBtn = document.getElementById('restart-btn');

const progressFill = document.getElementById('progress-fill');
const currentQuestionSpan = document.getElementById('current-question');
const totalQuestionsSpan = document.getElementById('total-questions');

const questionText = document.getElementById('question-text');
const answersContainer = document.getElementById('answers-container');

const loadingText = document.getElementById('loading-text');

const scoreValue = document.getElementById('score-value');
const verdictTitle = document.getElementById('verdict-title');
const verdictText = document.getElementById('verdict-text');

// ===== INITIALISATION =====
totalQuestionsSpan.textContent = quizData.length;

// ===== EVENT LISTENERS =====
startBtn.addEventListener('click', startQuiz);
restartBtn.addEventListener('click', restartQuiz);

// ===== FONCTIONS PRINCIPALES =====

function startQuiz() {
    // R√©initialiser
    currentQuestionIndex = 0;
    totalScore = 0;
    correctAnswers = 0;
    answers = [];
    
    // Transition vers le quiz
    welcomeScreen.classList.remove('active');
    setTimeout(() => {
        showQuestion();
        quizScreen.classList.add('active');
    }, 300);
}

function showQuestion() {
    const question = quizData[currentQuestionIndex];
    
    // Mettre √† jour la progression
    const progressPercentage = ((currentQuestionIndex) / quizData.length) * 100;
    progressFill.style.width = progressPercentage + '%';
    currentQuestionSpan.textContent = currentQuestionIndex + 1;
    
    // Afficher la question
    questionText.textContent = question.question;
    
    // Vider et cr√©er les boutons de r√©ponse
    answersContainer.innerHTML = '';
    
    // Ajouter l'image si elle existe
    if (question.image) {
        const img = document.createElement('img');
        img.src = question.image;
        img.className = 'question-image';
        img.alt = 'Image de la question';
        answersContainer.appendChild(img);
    }
    
    question.answers.forEach((answer, index) => {
        const button = document.createElement('button');
        button.className = 'answer-btn';
        button.textContent = answer.text;
        button.addEventListener('click', () => selectAnswer(index, answer.points));
        answersContainer.appendChild(button);
        
        // Animation d'apparition s√©quentielle
        setTimeout(() => {
            button.style.opacity = '0';
            button.style.transform = 'translateX(-30px)';
            setTimeout(() => {
                button.style.transition = 'all 0.4s ease';
                button.style.opacity = '1';
                button.style.transform = 'translateX(0)';
            }, 50);
        }, index * 100);
    });
}

function selectAnswer(answerIndex, points) {
    const answerButtons = document.querySelectorAll('.answer-btn');
    const selectedAnswer = quizData[currentQuestionIndex].answers[answerIndex];
    
    // Animation de s√©lection
    answerButtons[answerIndex].classList.add('selected');
    
    // Att√©nuer les autres boutons
    answerButtons.forEach((btn, index) => {
        if (index !== answerIndex) {
            btn.classList.add('dimmed');
        }
    });
    
    // Enregistrer la r√©ponse
    totalScore += points;
    if (selectedAnswer.correct) {
        correctAnswers++;
    }
    
    answers.push({
        question: currentQuestionIndex,
        points: points,
        correct: selectedAnswer.correct
    });
    
    // D√©lai avant de passer √† la suite
    setTimeout(() => {
        if (currentQuestionIndex < quizData.length - 1) {
            showLoadingScreen();
        } else {
            showFinalLoading();
        }
    }, 800);
}

function showLoadingScreen() {
    quizScreen.classList.remove('active');
    
    setTimeout(() => {
        // Message de chargement al√©atoire
        const randomMessage = loadingMessages[Math.floor(Math.random() * loadingMessages.length)];
        loadingText.textContent = randomMessage;
        
        loadingScreen.classList.add('active');
        
        // Passer √† la question suivante apr√®s le chargement
        setTimeout(() => {
            loadingScreen.classList.remove('active');
            currentQuestionIndex++;
            
            setTimeout(() => {
                showQuestion();
                quizScreen.classList.add('active');
            }, 300);
        }, 1800);
    }, 300);
}

function showFinalLoading() {
    quizScreen.classList.remove('active');
    
    setTimeout(() => {
        loadingText.textContent = "üéâ Compilation des r√©sultats finaux...";
        loadingScreen.classList.add('active');
        
        setTimeout(() => {
            loadingScreen.classList.remove('active');
            setTimeout(() => {
                showResults();
            }, 300);
        }, 2000);
    }, 300);
}

function showResults() {
    // Le score final est le nombre de bonnes r√©ponses
    const finalScore = correctAnswers;
    const totalQuestions = quizData.length;
    
    // D√©terminer le verdict
    let verdict = getVerdict(finalScore, totalQuestions);
    
    // Afficher les r√©sultats avec animation
    resultScreen.classList.add('active');
    
    // Animation du score
    animateScore(finalScore);
    
    // Afficher le verdict
    verdictTitle.textContent = verdict.title;
    verdictText.textContent = verdict.text;
    
    // Lancer les confettis
    createConfetti();
    
    // Easter egg : message console
    console.log(`üéÇ Score de ${finalScore}/${totalQuestions}`);
    console.log(`üéâ Niveau d'expertise : ${verdict.title}`);
    console.log(`üî• ${verdict.consoleMessage}`);
}

function animateScore(targetScore) {
    let currentScore = 0;
    const increment = targetScore / 50; // 50 √©tapes d'animation
    const interval = setInterval(() => {
        currentScore += increment;
        if (currentScore >= targetScore) {
            currentScore = targetScore;
            clearInterval(interval);
        }
        scoreValue.textContent = Math.round(currentScore);
    }, 30);
}

function getVerdict(score, total) {
    const percentage = (score / total) * 100;
    
    if (score === total) {
        return {
            title: "üèÜ Expert Brice Certifi√© !",
            text: `Score parfait : ${score}/${total} ! Tu connais Brice mieux que lui-m√™me ! Tu as probablement particip√© √† ses aventures (ou tu es Margot qui a trich√© üòâ). Mention sp√©ciale pour avoir retenu l'histoire de la piq√ªre d'insecte √† la Gouille !`,
            consoleMessage: "Champion absolu ! Connaissance encyclop√©dique de Brice !"
        };
    } else if (percentage >= 80) {
        return {
            title: "üéñÔ∏è Proche du Cercle Int√©rieur",
            text: `Excellent score : ${score}/${total} ! Tu fais clairement partie des proches de Brice. Tu connais ses exploits sportifs, ses lubies et m√™me ses petites manies. Continue comme √ßa, tu es sur la bonne voie pour devenir son biographe officiel !`,
            consoleMessage: "Tr√®s forte connaissance de Brice - proche confirm√© !"
        };
    } else if (percentage >= 60) {
        return {
            title: "ü•â Ami de Brice Confirm√©",
            text: `Bon score : ${score}/${total}. Tu connais bien Brice et ses aventures principales. Quelques d√©tails t'ont √©chapp√©, mais tu sais l'essentiel : son amour pour Mammut, sa relation avec Margot, et son projet fou de ski de fond !`,
            consoleMessage: "Bonne connaissance g√©n√©rale de Brice"
        };
    } else if (percentage >= 40) {
        return {
            title: "ü§î Connaissance Moyenne",
            text: `Score correct : ${score}/${total}. Tu as quelques notions sur Brice et ses passions, mais il reste encore beaucoup √† d√©couvrir ! Conseil : demande-lui de te raconter ses aventures autour d'un caf√© (ou d'un fromage fondu) !`,
            consoleMessage: "Connaissance superficielle - √† approfondir !"
        };
    } else {
        return {
            title: "üëã Nouvellement Arriv√©",
            text: `Score : ${score}/${total}. On dirait que tu viens de rencontrer Brice ! Pas de panique, c'est l'occasion parfaite pour mieux le conna√Ætre. Commence par lui demander son projet 30 x 3000, il sera ravi d'en parler pendant des heures !`,
            consoleMessage: "D√©butant dans l'univers Brice - bienvenue !"
        };
    }
}

function createConfetti() {
    const container = document.getElementById('confetti-container');
    const colors = ['#6366f1', '#ec4899', '#10b981', '#f59e0b', '#8b5cf6'];
    
    for (let i = 0; i < 50; i++) {
        setTimeout(() => {
            const confetti = document.createElement('div');
            confetti.className = 'confetti';
            confetti.style.left = Math.random() * 100 + '%';
            confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
            confetti.style.animationDelay = Math.random() * 0.5 + 's';
            confetti.style.animationDuration = (Math.random() * 2 + 2) + 's';
            
            container.appendChild(confetti);
            
            // Supprimer apr√®s l'animation
            setTimeout(() => {
                confetti.remove();
            }, 3000);
        }, i * 50);
    }
}

function restartQuiz() {
    // Nettoyer les confettis
    document.getElementById('confetti-container').innerHTML = '';
    
    // R√©initialiser et retourner √† l'accueil
    resultScreen.classList.remove('active');
    
    setTimeout(() => {
        currentQuestionIndex = 0;
        totalScore = 0;
        correctAnswers = 0;
        answers = [];
        welcomeScreen.classList.add('active');
    }, 300);
}

// ===== EASTER EGG : KONAMI CODE =====
let konamiCode = [];
const konamiSequence = ['ArrowUp', 'ArrowUp', 'ArrowDown', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'ArrowLeft', 'ArrowRight', 'b', 'a'];

document.addEventListener('keydown', (e) => {
    konamiCode.push(e.key);
    konamiCode = konamiCode.slice(-10);
    
    if (konamiCode.join(',') === konamiSequence.join(',')) {
        activateEasterEgg();
        konamiCode = [];
    }
});

function activateEasterEgg() {
    // Message secret dans la console
    console.log('%cüéâ KONAMI CODE ACTIV√â ! üéâ', 'font-size: 20px; color: #6366f1; font-weight: bold;');
    console.log('%cBrice a d√©bloqu√© le niveau secret : "Ma√Ætre du Brice-O-Meter" !', 'font-size: 14px; color: #ec4899;');
    
    // Animation sp√©ciale
    document.body.style.animation = 'none';
    setTimeout(() => {
        document.body.style.animation = 'rainbow 2s linear infinite';
    }, 10);
    
    // Ajouter l'animation rainbow
    const style = document.createElement('style');
    style.textContent = `
        @keyframes rainbow {
            0% { filter: hue-rotate(0deg); }
            100% { filter: hue-rotate(360deg); }
        }
    `;
    document.head.appendChild(style);
    
    // Retirer apr√®s 4 secondes
    setTimeout(() => {
        document.body.style.animation = 'none';
    }, 4000);
}

// ===== SON OPTIONNEL (comment√© par d√©faut) =====
// D√©commenter pour ajouter des effets sonores

/*
function playSound(type) {
    const audioContext = new (window.AudioContext || window.webkitAudioContext)();
    const oscillator = audioContext.createOscillator();
    const gainNode = audioContext.createGain();
    
    oscillator.connect(gainNode);
    gainNode.connect(audioContext.destination);
    
    if (type === 'click') {
        oscillator.frequency.value = 800;
        gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
        gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.1);
        oscillator.start(audioContext.currentTime);
        oscillator.stop(audioContext.currentTime + 0.1);
    } else if (type === 'success') {
        oscillator.frequency.value = 1000;
        gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
        gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.3);
        oscillator.start(audioContext.currentTime);
        oscillator.stop(audioContext.currentTime + 0.3);
    }
}

// Ajouter dans selectAnswer() : playSound('click');
// Ajouter dans showResults() : playSound('success');
*/
    </script>
</body>
</html>
